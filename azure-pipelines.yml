jobs:
- job: Windows
  strategy:
    matrix:
      baseline: {}
      yc:
        CACHE_YARN: FILES
        YARN_CACHE_FOLDER: $(Pipeline.Workspace)/yarn-cache
      nm:
        CACHE_NODE_MODULES: FILES
      yc_nm:
        CACHE_YARN: FILES
        CACHE_NODE_MODULES: FILES
        YARN_CACHE_FOLDER: $(Pipeline.Workspace)/yarn-cache
      yctar_nmtar:
        CACHE_YARN: TAR
        CACHE_NODE_MODULES: TAR
        YARN_CACHE_FOLDER: $(Pipeline.Workspace)/yarn-cache
  pool:
    vmImage: VS2017-Win2016
  steps:
  - template: build/azure-pipelines/win32/continuous-build-win32.yml

 - job: WindowsPrivate
   pool:
     name: tafadnav
   steps:
   - template: build/azure-pipelines/win32/continuous-build-win32.yml

- job: Linux
  pool:
    vmImage: 'Ubuntu-16.04'
  steps:
  - template: build/azure-pipelines/linux/continuous-build-linux.yml

# - job: macOS
#   pool:
#     vmImage: macOS 10.13
#   steps:
#   - template: build/azure-pipelines/darwin/continuous-build-darwin.yml